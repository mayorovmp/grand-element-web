<ngx-smart-modal #editClientModal identifier="editClientModal" (onOpen)="onOpen()" (onAnyCloseEvent)="onClose()">
  <div>
    <h1>Редактор</h1>
    <div class="input-group input-group-sm mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-sm">
          <div class="label">Клиент</div>
        </span>
      </div>
      <input type="text" class="form-control" [(ngModel)]="client.name" aria-label="Small"
        aria-describedby="inputGroup-sizing-sm">
    </div>

    <div class="border mt-2 p-1" *ngFor="let addr of client.addresses">
      <div class="input-group input-group-sm mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="inputGroup-sizing-sm">
            <div class="label">Адрес доставки</div>
          </span>
        </div>
        <input type="text" [(ngModel)]="addr.name" class="form-control" aria-label="Small"
          aria-describedby="inputGroup-sizing-sm">
        <button (click)="delAddr(client, addr)">удалить</button>
      </div>
      <div class="border mb-2" *ngFor="let contact of addr.contacts">
        <div class="input-group input-group-sm mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroup-sizing-sm">
              <div class="label">Контактное лицо</div>
            </span>
          </div>
          <input [(ngModel)]="contact.name" type="text" class="form-control" aria-label="Small"
            aria-describedby="inputGroup-sizing-sm">
          <button (click)="delContact(addr, contact)">удалить</button>
        </div>
        <div class=" input-group input-group-sm mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroup-sizing-sm">
              <div class="label">Средство связи</div>
            </span>
          </div>
          <input [(ngModel)]="contact.communication" type="text" class="form-control" aria-label="Small"
            aria-describedby="inputGroup-sizing-sm">
        </div>
      </div>
      <button (click)="addContact(addr)">Добавить контактное лицо</button>
    </div>
    <button class="mt-2" (click)="addAddress(client)">Добавить адрес</button>
  </div>
  <button class="mt-2" (click)="createOrUpdate(client)">Сохранить клиента</button>
</ngx-smart-modal>